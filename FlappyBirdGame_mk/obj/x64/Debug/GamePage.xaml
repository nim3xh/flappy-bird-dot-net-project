<Page
    x:Class="FlappyBirdGame_mk.GamePage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:FlappyBirdGame_mk">

    <Page.Resources>
        <local:ImageSizeConverter x:Key="ImageSizeConverter"/>
    </Page.Resources>


    <Grid Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">
        <Grid.RowDefinitions>
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <Canvas x:ConnectionId='2' x:Name="GameCanvas" Background="Transparent" Margin="0,0,10,0" Grid.Row="0" Height="816" VerticalAlignment="Top">
            <!-- Background Image 1 -->
            <Image x:ConnectionId='4' x:Name="BackgroundImage" Source="Assets/background.png" Stretch="Fill"
                   Width="1270"
                   Height="{Binding ElementName=GameCanvas, Path=ActualHeight}"/>
            <!-- Background Image 2 -->
            <Image x:ConnectionId='5' x:Name="BackgroundImage2" Source="Assets/background.png" Stretch="Fill"
                   Width="1545"
                   Height="816"
                   Canvas.Left="840"/>
            <Image x:ConnectionId='6' x:Name="BirdImage" Source="Assets/bird.png" Width="51" Height="37" Canvas.Top="343" Canvas.Left="483" RenderTransformOrigin="1.2,1.44"/>
            <!-- Pipes will be dynamically added here -->

            <!-- Score -->
            <TextBlock x:ConnectionId='7' x:Name="ScoreTextBlock" Text="0" FontSize="12" FontWeight="Bold" Foreground="White" Canvas.Top="58" Canvas.Left="183" Height="15" Width="30"                                                    RenderTransformOrigin="-0.067,-0.08" HorizontalAlignment="Left" VerticalAlignment="Top"/>

            <!-- Game Over Screen (Hidden by default) -->
            <Grid x:ConnectionId='8' x:Name="GameOverGrid" Visibility="Collapsed"  VerticalAlignment="Center" HorizontalAlignment="Center">
                <Rectangle Fill="#80000000" Margin="-305,1,-922,-274"/>
                <TextBlock x:ConnectionId='14' Text="Game Over" FontSize="72" FontWeight="Bold" Foreground="White" VerticalAlignment="Top" HorizontalAlignment="Left"                                                 Margin="202,401,0,0"/>
                <TextBlock Text="Your final score is:" FontSize="16" FontWeight="Bold" Foreground="White" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="321,485,0,0"/>
                <TextBlock x:ConnectionId='15' x:Name="FinalScoreTextBlock" Text="0" FontSize="24" FontWeight="Bold" Foreground="White" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="376,502,0,0"/>
                <Button x:ConnectionId='16' Content="Restart"                             VerticalAlignment="Top" Margin="351,539,0,0"/>
            </Grid>

            <TextBlock x:ConnectionId='9' x:Name="ScoreLable" Canvas.Left="130" TextWrapping="Wrap" Text="Score" Canvas.Top="55"                                              />
            <!-- Hit sound effect -->
            <MediaElement x:ConnectionId='10' x:Name="HitSound" Source="Assets/hit.wav" AutoPlay="False" />
            <MediaElement x:ConnectionId='11' x:Name="DieSound" Source="Assets/die.wav" AutoPlay="False" />
            <MediaElement x:ConnectionId='12' x:Name="WingtSound" Source="Assets/wing.wav" AutoPlay="False" />
            <MediaElement x:ConnectionId='13' x:Name="SwooshSound" Source="Assets/swoosh.wav" AutoPlay="False" />
        </Canvas>

        <!-- Jump Button (Visible at all times) -->
        <Button x:ConnectionId='3' x:Name="JumpButton" Content="Jump"                          VerticalAlignment="Top" Margin="529,784,0,0" RenderTransformOrigin="-0.167,0.719"/>
    </Grid>
</Page>

